{% extends 'views/base.html' %}
{% block body %}
<div class="container">
    <nav id="navbar" class="navbar has-shadow">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="#">JS之禅</a>
                <div class="navbar-burger burger" data-target="navMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div id="navMenu" class="navbar-menu">
                <div class="navbar-start">
                    <a class="navbar-item" href="/">主页</a>
                    <a class="navbar-item" href="/about">关于</a>
                </div>
                <div class="navbar-end">
                    {% if ctx.session.user.isAdmin %}
                    <div class="navbar-item">
                        <a class="button is-small is-primary" href="/category">分类</a>
                    </div>
                    {% endif %}
                    {% if ctx.session.user %}
                    <div class="navbar-item">
                        <a class="button is-small is-primary" href="/posts/new">写文章</a>
                    </div>
                    <div class="navbar-item">
                        <a href="/user/{{ctx.session.user.name}}">{{ctx.session.user.name}}</a>
                    </div>
                    <div class="navbar-item">
                        <a href="/signout">退出</a>
                    </div>
                    {% else %}
                    <div class="navbar-item">
                        <a class="button is-small is-primary" href="/signup">注册</a>
                    </div>
                    <div class="navbar-item">
                        <a class="button is-small" href="/signin">登录</a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
      </nav>
    <div class="box sign-box">
        <form action="/signin" method="POST">
            <div class="field">
                <label class="label">用户名</label>
                <div class="control">
                    <input class="input" name="name" type="text" autocomplete="off" placeholder="请输入用户名">
                </div>
            </div>
            <div class="field">
                <label class="label">密码</label>
                <div class="control">
                    <!-- 禁止自动填充用户名密码 -->
                    <input type="password" style="position: absolute;left: 9999999px" />
                    <input class="input" name="password" type="password" placeholder="请输入密码">
                </div>
            </div>
            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-primary">立即登录</button>
                </div>
                <div class="control">
                    <a href="/signup" class="button is-text">还没账号？</a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}